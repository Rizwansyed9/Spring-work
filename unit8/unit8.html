<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {height: 100%;
    margin: 0;
    
padding:5px;}
h3{
 
color:#212121;
}
h4{
color:#1b1b1b;
}
p,li{
  font-size: 16px;
color:#757575;
}
.card {
background-color:#ffffff;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    transition: 0.3s;

}

.card:hover {
    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
}

.container {

    padding: 1px 8px;
}
code[class*="language-"],
pre[class*="language-"] {
	color: #f8f8f2;
	background: none;
	text-shadow: 0 1px rgba(0, 0, 0, 0.3);
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	 font-size: 12px;
  line-height: 1.375;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;


	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
	border-radius: 0.3em;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #272822;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #f8f8f2;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
	color: #f92672;
}

.token.boolean,
.token.number {
	color: #ae81ff;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #a6e22e;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #f8f8f2;
}

.token.atrule,
.token.attr-value,
.token.function {
	color: #e6db74;
}

.token.keyword {
	color: #66d9ef;
}

.token.regex,
.token.important {
	color: #fd971f;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

pre.line-numbers {
	position: relative;
	padding-left: 3.8em;
	counter-reset: linenumber;
}

pre.line-numbers > code {
	position: relative;
    white-space: inherit;
}

.line-numbers .line-numbers-rows {
	position: absolute;
	pointer-events: none;
	top: 0;
	font-size: 100%;
	left: -3.8em;
	width: 3em; /* works for line-numbers below 1000 lines */
	letter-spacing: -1px;
	border-right: 1px solid #999;

	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;

}

	.line-numbers-rows > span {
		pointer-events: none;
		display: block;
		counter-increment: linenumber;
	}

		.line-numbers-rows > span:before {
			content: counter(linenumber);
			color: #999;
			display: block;
			padding-right: 0.8em;
			text-align: right;
		}
.tip {
    background-image: url(https://www.w3schools.in/wp-content/uploads/tip.png);
    padding: 10px 10px 10px 50px;
    background-position: 10px 20px;
    background-repeat: no-repeat;
	display: table;
    border: 2px solid #DDD;
    border-left: 3px solid #32cd32;
    margin-left: 0;


    border-radius: 3px;
}
.tip2{
  padding: 10px 10px 10px 10px;
    background-position: 10px 20px;
    background-repeat: no-repeat;
	display: table;
    border: 2px solid #DDD;
    border-left: 3px solid #32cd32;
    margin-left: 0;


    border-radius: 3px;

}

img {
    max-width: 100%;
    max-height: 100vh;
    height: auto;
}

table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}

</style>
</head>
<body>


<div class="card">
 
  <div class="container">
  <h3>Spring Web MVC (Model View and Controller)</h3>
<p>Spring Web MVC Framework allows you to build web applications, similar to struts and J2ee servlets etc. When compared with any other frameworks, spring offers comprehensive list of features that makes you develop web applications with greater speed and flexibility.</p>    
<div style="text-align: left; background:#696969; padding:7px;"><span style="font-weight:bold;color:#ffffff">Advantages of Spring Web MVC</span></div>
<ol>
<li>Form Object: - In spring mvc you can use any object as command or form object (similar to Struts Action Form) to capture user submitted form values. Your Form object need not implement any spring specific classes or interface</li>
<li> Flexible data binding: - Unlike other frameworks, spring form object can contain non-string typed as attributes, and spring will take care of binding the form submitted values to your form object attributes. In frameworks like struts, ActionForm should hold only string-typed attributes and need to perform the validation to capture type-casting errors. But spring will take care of these conversions and any in-compatible conversions will results into validation errors rather than runtime or type-casting errors</li>
<li>Reusable business code: - no need of duplication, you can use your existing business objects as command or form objects. </li>
<li>Clear separation of roles: - controller, validator, command, handler mappings, dispatcher servlet, view resolvers, in this way spring provides multiple components to handle each role by a specialized object.</li>
<li>Locale and Theme resolvers: - spring provides jsp tag library that provides support for features such as data binding and themes.</li>
</ol>
<div style="text-align: left; background:#696969; padding:7px;"><span style="font-weight:bold;color:#ffffff">Dispatcher Servlet</span></div>
<p>Spring Web MVC framework is designed around a DispatcherServlet that dispatches request to handlers, configurable handler mappings, view resolvers and locale and theme resolvers. Handler is the controller class in spring that will process the request and performs business logic to display the next view to the user. Handler mappings will allows you to map the incoming request to a handler. View resolvers will resolve for a view name, the physical view that should be rendered.<br><br> 
Spring Web MVC framework is, like any other web mvc frameworks, request-driven designed around a central servlet which is the DispatcherServlet. DispatcherServlet will listens for the incoming request and dispatches to handler, along with offers other functionalities facilitating the development of web application. In addition it completely integrates with IOC container making it to use every other feature of spring framework.<br><br> 
The typical request handling flow of the spring DispatcherServlet is shown below.</p>
<img src="../images/eight1.jpg" width="100%" height="200px">
<p>Few points about Dispatcher Servlet as follows</p>
<ol>
<li>DispatcherServlet acts as a FrontController - entry point for all the spring MVC requests</li>
<li>Loads XmlWebApplicationContext</li>
<li>Controls workflow and mediates between various MVC components</li>
<li>Loads sensible default components if none are configured</li>
</ol>
<p>As every other servlet, even the DispatcherServlet has to be configured in the web.xml mapped to an URL to handle the incoming request, the mapping declaration is shown below.</p>
<p  style="font-weight:bold;color:#212121">web.xml</p>
<pre ><code class="language-java">&ltservlet>  
&ltservlet-name>dispatcher&lt/servlet-name>  
&ltservlet-class>org.springframework.web.servlet.DispatcherServlet&lt/servletclass>  
&ltload-on-startup>1&lt/load-on-startup> 
&lt/servlet> &ltservlet-mapping>  
&ltservlet-name>dispatcher&lt/servlet-name>  
&lturl-pattern>*.htm&lt/url-pattern> 
&lt/servlet-mapping>  </code></pre>
<p>In the above configuration, all request's ending .htm will be handled by the DispatcherServlet. Each DispatcherServlet in spring has its own WebApplicationContext, a typical web application contains two types of components 1) Web components (controllers, command objects, view resolvers and views etc.) and 2) Business components (which performs business logic like Delegate, Service, Dao etc.), So the context that is getting created by DispatcherServlet will contains Web Components and Business components are declared separately which is going to be discussed shortly.<br><br> 
Spring while initializing the DispatcherServlet, will looks for the configuration file [servletname]-servlet.xml for the Web component bean declarations. Based on the above configuration, the file name it looks for is dispatcher-servlet.xml. Now loads all the bean declarations and creates a WebApplicationContainer with those beans.<br><br> 
Note: - You can customize the [servlet-name]-servlet.xml pattern by configuring a initparam at the DispatcherServlet where the param-name is namespace, value is the name of the configuration file shown below.</p>
<pre ><code class="language-java">&ltservlet>  
&ltservlet-name>dispatcher&lt/servlet-name>  
&ltservlet-class>org.springframework.web.servlet.DispatcherServlet&lt/servletclass>  
&ltinit-param>   
&ltparam-name>namespace&lt/param-name>   
&ltparam-value>ui&lt/param-value>  
&lt/init-param>  
&ltload-on-startup>2&lt/load-on-startup> 
&lt/servlet>  </code></pre>
<p>With the above configuration, DispatcherServlet will look for the file ui.xml under WEBINF directory</p>
<div style="text-align: left; background:#696969; padding:7px;"><span style="font-weight:bold;color:#ffffff">Configuring ApplicationContext</span></div>
<p>Apart from the WebApplicationContext created by the DispatcherServlet, you can configure one more container ApplicationContext which holds Business component bean declarations. In order to create this, you need to configure a Listener as shown below.</p>
<p  style="font-weight:bold;color:#212121">web.xml</p>
<pre ><code class="language-java">&ltcontext-param>  
&ltparam-name>contextConfigLocation&lt/param-name>  
&ltparam-value>/WEB-INF/root-application-context.xml&lt/param-value> 
&lt/context-param> 
&ltlistener>  
&ltlistenerclass>org.springframework.web.context.ContextLoaderListener&lt/listener-class> 
&lt/listener>  </code></pre>
<p>With the above configuration, the ContentLoaderListener will reads the context-param whose param-name is contextConfigLocation, and reads the value representing the configuration file path and creates the IOC container which contains the business component classes as beans.<br><br>  
Note: - The ApplicationContext created by ContextLoaderListener will act as parent factory to the WebApplicationContext which means the Web components can reference your business components whereas business components cannot refer your web components. If you recollect this is the concept of Nested Bean Factories, which we discussed in Spring Core. The main advantage of having two Containers is the web components and declarations are separated from business components, so that if you want to quit from Spring Web MVC, you need to remove the DispatcherServlet configuration and your Business components still can be injected into other mvc framework components through spring integration project</p>
<img src="../images/eight2.jpg" width="100%" height="200px">
<p>In order to handle the Web application requests, we need to use special components that are provided by mvc framework which are instantiated and mediated by DispatcherServlet (in WebApplicationComponents). In the following sections let's understand the components that must be written or configured to handle the MVC flow.</p>
<div style="text-align: left; background:#696969; padding:7px;"><span style="font-weight:bold;color:#ffffff">Controller </span></div>
<p>In a JEE application all the requests from the client/view will be handled by the servlet. In case of Struts, "Action" class will handle the request and performs the processing. Similarly in spring "Controller" will acts as a Servlet/Action in handling the request and displaying the view to the user.<br><br> 
In case of struts if we see there are several types of Action classes like Action, DispatchAction, LookupDispatchAction etc. But if you observe carefully all these actions classes will take ActionForm as parameter, this itself tells that always struts assumes the request always comes from a form submission.<br><br> 
But in a web application there are several ways of sending the request to the application. Not only using form submission, we can click on a hyperlink or by entering the url directly in the address bar of the browser etc. If you observe apart from form submission other two ways will not send any data as part of the request. If there is not data being sent as part of the request then why I should take ActionForm as parameter to the Action class or what I should do with this?<br><br> 
This tells struts is poor in addressing several usecases related to web application. Unlike struts, spring has provided a rich set of controller classes which addresses every other usecase in a typical web application. 
This list is un-ending and for our reference we list here few of them.</p>
<ol>
<li>Controller</li>
<li>ParameterizableViewController</li>
<li>UrlFileNameViewController</li>
<li>AbstractController</li>
<li>AbstractCommandController</li>
<li>SimpleFormController</li>
<li>AbstractWizardController</li>
</ol>
<p>Spring basic controller architecture is org.springframework.web.servlet.mvc.Controller interface. The Controller interface has a single method as shown below.</p>
<pre ><code class="language-java">ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception;  </code></pre>
<p>This method is responsible for handling the request and returns an appropriate model and view. The ModelAndView and Controller are basic concepts of spring MVC, based on this rest of the controllers has been designed</p>
<p  style="font-weight:bold;color:#212121">ParameterizableViewController</p>
<p>This is also called as forwarding controller; it is used for forwarding an incoming request to a jsp page based on the parameter we configured, without performing any processing. Here is the example depicts the same</p>
<img src="../images/eight3.jpg" width="100%" height="200px">
<p  style="font-weight:bold;color:#212121">aboutus.jsp </p>
<pre ><code class="language-java"><%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%> 
&lt!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
&lthtml>  
&lthead>   
&ltmeta http-equiv="Content-Type" content="text/html; charset=ISO8859-1">   
&lttitle>AboutUs&lt/title>  &lt/head>  
&ltbody>Nothing about us....  &lt/body> &lt/html> </code></pre>
<p  style="font-weight:bold;color:#212121">dispatcher-servlet.xml</p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltbeans xmlns="http://www.springframework.org/schema/beans"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans.xsd"> 
&ltbean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">   
&ltproperty name="mappings">    
&ltprops>&ltprop key="/contactus.htm">contactuscontroller&lt/prop>&lt/props>   
&lt/property>  
&lt/bean>    
&ltbean id="contactuscontroller" class="org.springframework.web.servlet.mvc.ParameterizableViewController">   
&ltproperty name="viewName" value="contactus"/>  
&lt/bean>     
&ltbean class="org.springframework.web.servlet.view.InternalResourceViewResolver">   
&ltproperty name="prefix" value="/WEB-INF/jsp/"/>   
&ltproperty name="suffix" value=".jsp"/>  
&lt/bean> 
&lt/beans> </code></pre>
<p  style="font-weight:bold;color:#212121">root-application-context.xml</p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltbeans xmlns="http://www.springframework.org/schema/beans"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans.xsd"> 
&lt!--No business logic beans --> &lt/beans>  </code></pre>
<p  style="font-weight:bold;color:#212121">web.xml</p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltweb-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xmlns="http://java.sun.com/xml/ns/javaee" 
xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"  
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"  
id="WebApp_ID" version="2.5">  
&ltdisplay-name>ForwardWeb&lt/display-name>  
&ltlistener>   
&ltlistenerclass>org.springframework.web.context.ContextLoaderListener&lt/listener-class>  
&lt/listener>  &ltcontext-param>   
&ltparam-name>contextConfigLocation&lt/param-name>   
&ltparam-value>/WEB-INF/root-application-context.xml&lt/param-value>  
&lt/context-param>  
&ltservlet>   
&ltservlet-name>dispatcher&lt/servlet-name>   
&ltservletclass>org.springframework.web.servlet.DispatcherServlet&lt/servlet-class>   
&ltload-on-startup>2&lt/load-on-startup>  
&lt/servlet>  
&ltservlet-mapping>   
&ltservlet-name>dispatcher&lt/servlet-name>   
&lturl-pattern>*.htm&lt/url-pattern>  
&lt/servlet-mapping> 
&lt/web-app> </code></pre>
<p  style="font-weight:bold;color:#212121">UrlFilenameViewController</p>
<p>It is also similar to ParameterizableViewController used for forwarding the request to a jsp page. But here we don't configure any parameter instead it takes the incoming url itself as a view name to display the view. As it uses convention over configuration, we don’t need to configure different controllers to forward the request to multiple views rather one UrlFilenameViewController is enough to forward the request to any number of jsp's as shown below.</p>
<img src="../images/eight4.jpg" width="100%" height="200px">
<p  style="font-weight:bold;color:#212121">aboutus.jsp</p>
<pre ><code class="language-java"><%@ page language="java" contentType="text/html; charset=ISO-8859-1" pageEncoding="ISO-8859-1"%> 
&lt!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
&lthtml>
&lthead>   
&ltmeta http-equiv="Content-Type" content="text/html; charset=ISO8859-1">   
&lttitle>AboutUs&lt/title>  
&lt/head>  
&ltbody>   Nothing about us....  &lt/body> &lt/html>  </code></pre>
<p  style="font-weight:bold;color:#212121">contactus.jsp</p>
<pre ><code class="language-java"><%@ page language="java" contentType="text/html; charset=ISO-8859-1"     pageEncoding="ISO-8859-1"%> 
&lt!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
&lthtml>
&lthead>   
&ltmeta http-equiv="Content-Type" content="text/html; charset=ISO8859-1">   
&lttitle>Contact Us&lt/title>  
&lt/head>  
&ltbody>   Contact Us @ - 1-232-222-2242  &lt/body> &lt/html> </code></pre>
<p  style="font-weight:bold;color:#212121">dispatcher-servlet.xml</p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltbeans xmlns="http://www.springframework.org/schema/beans"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans.xsd"> 
&ltbean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">   
&ltproperty name="mappings">    
&ltprops>     
&ltprop key="/contactus.htm">  fc  &lt/prop>         
&ltprop key="/aboutus.htm">    fc  &lt/prop>    
&lt/props>   
&lt/property>  
&lt/bean>     
&ltbean id="fc" class="org.springframework.web.servlet.mvc.UrlFilenameViewController"/>     
&ltbean class="org.springframework.web.servlet.view.InternalResourceViewResolver">   
&ltproperty name="prefix" value="/WEB-INF/jsp/"/>   
&ltproperty name="suffix" value=".jsp"/>  
&lt/bean> &lt/beans> </code></pre>
<p  style="font-weight:bold;color:#212121">root-application-context.xml</p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltbeans xmlns="http://www.springframework.org/schema/beans"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans.xsd"> 
&lt!-- no business tier beans, so empty--> 
&lt/beans> </code></pre>
<p  style="font-weight:bold;color:#212121">web.xml</p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltweb-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xmlns="http://java.sun.com/xml/ns/javaee" 
xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"  
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"  
id="WebApp_ID" version="2.5">  
&ltdisplay-name>ForwardWeb&lt/display-name>  
&ltlistener>   
&ltlistenerclass>org.springframework.web.context.ContextLoaderListener&lt/listener-class>  
&lt/listener>  
&ltcontext-param>   
&ltparam-name>contextConfigLocation&lt/param-name>   
&ltparam-value>/WEB-INF/root-application-context.xml&lt/param-value>  
&lt/context-param>  
&ltservlet>   
&ltservlet-name>dispatcher&lt/servlet-name>   
&ltservletclass>org.springframework.web.servlet.DispatcherServlet&lt/servlet-class>   
&ltload-on-startup>2&lt/load-on-startup>  
&lt/servlet>  
&ltservlet-mapping>   
&ltservlet-name>dispatcher&lt/servlet-name>   
&lturl-pattern>*.htm&lt/url-pattern>  
&lt/servlet-mapping> 
&lt/web-app>  </code></pre>
<p  style="font-weight:bold;color:#212121">AbstractController </p>
<p>When we don't have form submission, we just only need to perform processing and should display dynamic data in the jsp as part of that request then we should go for AbstractController.</p>
<img src="../images/eight5.jpg" width="100%" height="200px">
<img src="../images/eight6.jpg" width="100%" height="200px">
<p  style="font-weight:bold;color:#212121">home.jsp </p>
<pre ><code class="language-java"><%@ page language="java" contentType="text/html; charset=ISO-8859-1"     pageEncoding="ISO-8859-1"%> 
&lt!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
&lthtml> 
&lthead>   
&ltmeta http-equiv="Content-Type" content="text/html; charset=ISO8859-1">   
&lttitle>Home&lt/title>  
&lt/head>  
&ltbody>   
&lta href="liststuds.htm">List students&lt/a>  
&lt/body> &lt/html>  </code></pre>
<p  style="font-weight:bold;color:#212121">liststuds.jsp</p>
<pre ><code class="language-java"><%@ page language="java" contentType="text/html; charset=ISO-8859-1"     pageEncoding="ISO-8859-1"%> 
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %> 
&lt!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
&lthtml> 
&lthead>   
&ltmeta http-equiv="Content-Type" content="text/html; charset=ISO8859-1">   
&lttitle>List Students&lt/title>  
&lt/head>  
  &ltbody>   
     &lttable>   
      &lttr>     
      &ltth>Student Id&lt/th>     
      &ltth>Name&lt/th>    
      &lt/tr>    
&ltc:forEach items="${students}" var="stud">        
      &lttr>      
      &lttd>&ltc:out value="${stud.id}"/>&lt/td>      
      &lttd>&ltc:out value="${stud.name}"/>&lt/td>     
      &lt/tr>    
&lt/c:forEach>   
     &lt/table>  
  &lt/body> 
&lt/html> </code></pre>
<pre ><code class="language-java">package com.acw.beans; 
public class StudentInfo {  
private int id;  
private String name; 
//setters & getters 
}  </code></pre>
<pre ><code class="language-java">package com.acw.bo; 
import java.io.Serializable; 
public class StudentBO implements Serializable {  
private int id;  
private String name; 
//setter & getter 
}  </code></pre>
<pre ><code class="language-java">package com.acw.controller; 
import java.util.List; 
import javax.servlet.http.HttpServletRequest; 
import javax.servlet.http.HttpServletResponse; 
import org.springframework.web.servlet.ModelAndView; 
import org.springframework.web.servlet.mvc.AbstractController; 
import com.acw.beans.StudentInfo; 
import com.acw.service.StudentService; 
public class ListStudentsController extends AbstractController {  
private StudentService studentService; 
@Override  protected ModelAndView handleRequestInternal(HttpServletRequest request,
HttpServletResponse response) throws Exception {   
ModelAndView mav = null;   
List<StudentInfo> students = null;   
students = studentService.getAllStudents();   
mav = new ModelAndView();   
mav.addObject("students", students);   
mav.setViewName("liststuds");   
return mav;  
}  
public void setStudentService(StudentService studentService) {   
this.studentService = studentService;  
} 
}  </code></pre>
<pre ><code class="language-java">package com.acw.dao; 
import java.sql.ResultSet; 
import java.sql.SQLException; 
import java.util.List; 
import org.springframework.jdbc.core.JdbcTemplate; 
import org.springframework.jdbc.core.RowMapper; 
import com.acw.bo.StudentBO; 
public class StudentDao {  
private final String SQL_GET_ALL_STUDENTS = "SELECT STUDENT_ID, NAME FROM STUDENT";  
private JdbcTemplate jdbcTemplate; 
public StudentDao(JdbcTemplate jdbcTemplate) {   
this.jdbcTemplate = jdbcTemplate;  
} 
public List<StudentBO> getAllStudents() {   
return jdbcTemplate.query(SQL_GET_ALL_STUDENTS, new StudentRowMapper());  
} 
private final class StudentRowMapper implements RowMapper<StudentBO> {   
@Override   public StudentBO mapRow(ResultSet rs, int rowNum) throws SQLException {    
return new StudentBO(rs.getInt("STUDENT_ID"), rs.getString("NAME"));   
}  
} 
} </code></pre>
<pre ><code class="language-java">package com.acw.service; 
import java.util.ArrayList; 
import java.util.List; 
import com.acw.beans.StudentInfo; 
import com.acw.bo.StudentBO; 
import com.acw.dao.StudentDao; 
public class StudentService {  
private StudentDao studentDao; 
public List<StudentInfo> getAllStudents() {   
List<StudentInfo> studInfos = null;   
List<StudentBO> studBos = null; 
studBos = studentDao.getAllStudents();   
if (studBos != null && studBos.size() > 0) {    
studInfos = new ArrayList<StudentInfo>();    
for (StudentBO stud : studBos) {     
StudentInfo si = new StudentInfo();     
si.setId(stud.getId());     
si.setName(stud.getName());     
studInfos.add(si);    
}   
}   
return studInfos;  
}  
public void setStudentDao(StudentDao studentDao) {   
this.studentDao = studentDao;  
} 
}  </code></pre>
<p  style="font-weight:bold;color:#212121">application-context.xml</p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltbeans xmlns="http://www.springframework.org/schema/beans"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans.xsd">  
&ltimport resource="persistence-beans.xml" />  
&ltimport resource="service-beans.xml" /> 
&lt/beans> </code></pre>
<p  style="font-weight:bold;color:#212121">dispatcher-servlet.xml </p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltbeans xmlns="http://www.springframework.org/schema/beans"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans.xsd"> 
&ltbean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">   
&ltproperty name="mappings">    
&ltprops>     
&ltprop key="/home.htm">homeController&lt/prop>     
&ltprop key="/liststuds.htm">listStudController&lt/prop>    
&lt/props>   
&lt/property>  
&lt/bean> 
&ltbean id="homeController" class="org.springframework.web.servlet.mvc.ParameterizableViewController">   
&ltproperty name="viewName" value="home" />  
&lt/bean>    
&ltbean id="listStudController" class="com.acw.controller.ListStudentsController">   
&ltproperty name="studentService">    
&ltref parent="studentService"/>   
&lt/property>  
&lt/bean> 
&ltbean class="org.springframework.web.servlet.view.InternalResourceViewResolver">   
&ltproperty name="prefix" value="/WEB-INF/jsp/" />   
&ltproperty name="suffix" value=".jsp" />  
&lt/bean> 
&lt/beans> </code></pre>
<p  style="font-weight:bold;color:#212121">persistence-beans.xml</p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltbeans xmlns="http://www.springframework.org/schema/beans"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans.xsd"> 
&ltbean id="dataSource"   class="org.springframework.jdbc.datasource.DriverManagerDataSource">   
&ltproperty name="driverClassName" value="oracle.jdbc.driver.OracleDriver" />   
&ltproperty name="url" value="jdbc:oracle:thin:@localhost:1521:xe" />   
&ltproperty name="username" value="hr" />   
&ltproperty name="password" value="hr" />  
&lt/bean> 
&ltbean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">   
&ltconstructor-arg ref="dataSource" />  
&lt/bean> 
&ltbean id="studentDao" class="com.acw.dao.StudentDao">   
&ltconstructor-arg ref="jdbcTemplate" />  
&lt/bean> 
&lt/beans> </code></pre>
<p  style="font-weight:bold;color:#212121">service-beans.xml </p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltbeans xmlns="http://www.springframework.org/schema/beans"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans.xsd"> 
&ltbean id="studentService" class="com.acw.service.StudentService">   
&ltproperty name="studentDao" ref="studentDao"/>  
&lt/bean> 
&lt/beans> </code></pre>
<p  style="font-weight:bold;color:#212121">web.xml</p>
<pre ><code class="language-java">&lt?xml version="1.0" encoding="UTF-8"?> 
&ltweb-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xmlns="http://java.sun.com/xml/ns/javaee" 
xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"  
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"  id="WebApp_ID" version="2.5">  
&ltdisplay-name>ACWeb&lt/display-name>  
&ltlistener>   
&ltlistenerclass>org.springframework.web.context.ContextLoaderListener&lt/listener-class>  
&lt/listener>  
&ltcontext-param>   
&ltparam-name>contextConfigLocation&lt/param-name>   
&ltparam-value>/WEB-INF/application-context.xml&lt/param-value>  
&lt/context-param>  
&ltservlet>   
&ltservlet-name>dispatcher&lt/servlet-name>   
&ltservletclass>org.springframework.web.servlet.DispatcherServlet&lt/servlet-class>   
&ltload-on-startup>2&lt/load-on-startup>  
&lt/servlet>  
&ltservlet-mapping>   
&ltservlet-name>dispatcher&lt/servlet-name>   
&lturl-pattern>*.htm&lt/url-pattern>  
&lt/servlet-mapping> 
&lt/web-app>  </code></pre>
<p  style="font-weight:bold;color:#212121">Validator</p>
<p>In order to create a validator you need to write a class which implements Validator interface and override two methods supports and validate method. Unlike struts, the validator component is the separate component, which will validate the command data, and you can attach multiple validators to a form. In order to ensure the validator is being invoked on the right command object, the supports method will perform this check, and returns Boolean. If the supports method returns true, then the validate method will be invoked on the command object otherwise will ignore.</p>
<p  style="font-weight:bold;color:#212121">dispatcher-servlet.xml </p>
<pre ><code class="language-java">&ltbean id="studentValidator" class="com.sfw.validator.StudentValidator"/> 
&ltbean id="messageSource" class="org.springframework.context.support.ResourceBundleMessageSource">  
&ltproperty name="basename" value="messages"/> 
&lt/bean> </code></pre>
<p  style="font-weight:bold;color:#212121">messages.properties (Should be placed under src directory or its sub-directories</p>
<pre ><code class="language-java">StudentId.Blank=Student Id is mandatory StudentName.Blank=Student name is required </code></pre>
<p  style="font-weight:bold;color:#212121">StudentValidator.java</p>
<pre ><code class="language-java">package com.sfw.validator; 
import org.springframework.validation.Errors; 
import org.springframework.validation.Validator; 
import com.sfw.command.Student; 
public class StudentValidator 
implements Validator { 
@Override  public boolean supports(Class<> classType) {   
return Student.class == classType;  
} 
@Override  public void validate(Object command, Errors errors) {   
Student sCommand = (Student) command;      
if(sCommand.getId() <= 0) {    
errors.reject("StudentId.Blank");   
}      
if(sCommand.getName() == null || sCommand.getName().equals("")) {    
errors.reject("StudentName.Blank");   
}  
} 
} </code></pre>
<p>If the validator returns any errors, the relevant messages for the keys will be picked from the messageSource bean configured above and redisplays the form back to the user. 
In order to re-display the form back to the user with user entered values, we need to write the JSP forms with spring form tag libraries. These libraries are similar to struts form tag libraries which allows you to map the user interface fields to the command attributes and help in displaying the form back up on errors with user entered values and error messages.</p>
<p  style="font-weight:bold;color:#212121">insertStudent.jsp </p>
<pre ><code class="language-java"><%@ page language="java" contentType="text/html; charset=ISO-8859-1"     pageEncoding="ISO-8859-1"%> 
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form" %> 
&lt!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
&lthtml>  
&lthead>   
&ltmeta http-equiv="Content-Type" content="text/html; charset=ISO8859-1">   
&lttitle>Insert Student&lt/title>  
&lt/head>  
&ltbody> &ltform:form method="POST">    
   &lttable>     
	&lttr>      
	&lttd colspan="2">       
	<p style="color: red">  &ltform:errors/> </p>      
	&lt/td>     &lt/tr>     &lttr>      
	&lttd>   Id   &lt/td>      
	&lttd>  &ltform:input path="id"/>  &lt/td>     
	&lt/tr>     
	&lttr>      
	&lttd>   Name    &lt/td>      
	&lttd>   &ltform:input path="name"/>   &lt/td>     
	&lt/tr>     
	&lttr>      
	&lttd>   &ltinput type="submit" value="Insert"/>  &lt/td>     
	&lt/tr>    
   &lt/table>   
&lt/form:form>  
&lt/body> 
&lt/html> </code></pre>
<div style="text-align: left; background:#696969; padding:7px;"><span style="font-weight:bold;color:#ffffff">Handler Mappings</span></div>
<p>Using handler mappings you can map an incoming web requests to appropriate handler. You can configure more than one handler mappings, based on the order (priority) will maps the request to a Handler (Controller). Basically it works in this way, the DispatcherServlet once receives the request will handover it to HandlerMapping to let it inspect the request and come up with HandlerExecutionChain. Then the DispatcherServlet will execute the handler in the chain.<br><br> 
HandlerMapping can optionally contain HandlerInterceptors, the concept of HandlerInterceptor will be discusses later, but the HandlerExcecutionChain returned will contain list of HandlerInterceptors and Handler for execution.<br><br> 
Two of the most commonly used Handler Mappings's in spring are discussed in the below section, but they both extend from a class AbstractHandlerMapping and share the properties as below.</p>
<ol>
<li>Interceptors: - the list of interceptors to use. HandlerInterceptor will perform pre and post processing of request</li>
<li>Order:- If multiple handler mappings has been configured then spring will sort all the handler mappings in the chain and will apply the first one in the chain.</li>
</ol>
<p  style="font-weight:bold;color:#212121">BeanNameUrlHandlerMapping</p>
<p>This will maps the incoming request URL to the beanName to identify the controller for execution. Let's say for example we have an appropriate form controller which will handle the insert of an employee. When an incoming request likes /insertEmployee.htm come to the DispatcherServlet, it will forwards it to configured BeanNameUrlHanlderMapping to map it to the Controller, it will pick the controller bean whose name is "/insertEmployee.htm" as show below.</p>
<pre ><code class="language-java">&ltbean id="handlerMapping" class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"/> 
&ltbean  name="/insertEmployee.htm" class="com.emp.controller.InsertEmployeeController">  
&ltproperty name="formView" value="insertEmployee"/>  
&ltproperty name="successView" value="showEmployeeDetail"/>  
&ltproperty name="commandClass" value="com.emp.command.Employee"/> 
&lt/bean> </code></pre>
<p>If you don't configure any handler mapping, by default spring will provide BeanNameUrlHandlerMapping as the default one. </p>
<p  style="font-weight:bold;color:#212121">SimpleUrlHandlerMapping </p>
<p>Much more powerful and most used handler mapping is SimpleUrlHandlerMapping. In this you will configure the mapping between the incoming requests to a handler in the configuration file. It allows you to map your request using ant-style path matching capabilities, the below configuration will lets you point to the InsertEmployeeController by using the url insert.htm.</p>
<pre ><code class="language-java">&ltbean id="handlerMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">  
&ltproperty name="mappings">   
&ltprops>    
&ltprop key="/insert.htm">insertEmployeeController&lt/prop>   
&lt/props>  
&lt/property> 
&lt/bean> 
&ltbean id="insertEmployeeController" class="com.emp.controller.InsertEmployeeController"> 
&lt!-left for clarity  &lt/bean> </code></pre>
<div style="text-align: left; background:#696969; padding:7px;"><span style="font-weight:bold;color:#ffffff">Handler Interceptors</span></div>
<p>In the HandlerMappings section we come across the HandlerIterceptors, which means the HandlerMappings along with mapping URL to a Handler will also configured with HandlerInterceptors. The main purpose of HandlerInterceptors is to handle pre and post processing of incoming request; this is similar to the concept of filters in J2EE. But the main difference between filters and interceptors is, filters are applied to all the requests of the web application, whereas interceptors are applied to certain group of handlers. Secondly you have three states of interceptor execution like before processing request, before rendering the view and after the view has rendered to the user.<br><br> 
In order to configure a class as HandlerInterceptor, you need to write a class which implements HandlerInterceptor. Instead you can override your class from HandlerInterceptorAdapter and decide to override the method of your choice as shown below.</p>
<p  style="font-weight:bold;color:#212121">StoreTimeInterceptor.java</p>
<pre ><code class="language-java">package com.sw.handlerinterceptor; 
import java.util.Calendar; 
import javax.servlet.http.HttpServletRequest; 
import javax.servlet.http.HttpServletResponse; 
import org.springframework.web.servlet.handler.HandlerInterceptorAdapter; 
public class StoreTimeInterceptor extends HandlerInterceptorAdapter { 
@Override  public boolean preHandle(HttpServletRequest request,    
HttpServletResponse response, Object handler) throws Exception {   
Calendar c = Calendar.getInstance();   
if (c.get(Calendar.HOUR) >= 5) {    
response.sendRedirect("timeout.jsp");   
}   
return true;  
} 
}  </code></pre>
<p  style="font-weight:bold;color:#212121">dispatcher-servlet.xml </p>
<pre ><code class="language-java">&ltbean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">  
&ltproperty name="mappings">   
&ltprops>    
&ltprop key="/search.htm">SearchController&lt/prop>   
&lt/props>  
&lt/property>  
&ltproperty name="interceptors">   
&ltlist>    &ltref local="timeoutInterceptor"/>   &lt/list>  
&lt/property> 
&lt/bean> 
&ltbean id="timeoutInterceptor" class="com.sw.handlerinterceptor.StoreTimeInterceptor"/> </code></pre>
<div style="text-align: left; background:#696969; padding:7px;"><span style="font-weight:bold;color:#ffffff">ViewResolver </span></div>
<p>Every spring MVC framework will one way or in another provides a mechanism to dispatch the request to render a view. In Spring MVC it ViewResolvers are used for mapping and dispatching the request to an appropriate view.<br><br> 
When discussing about the controller, we observed that all the controllers will returns an ModelAndView as response after execution, the ModelAndView contains the logical view name that will be returned to the DispatcherServlet for rendering, the DispatcherServlet will maps the logical viewName to a View by using ViewResolver.<br><br> 
The two fundamentals of spring view handling is org.springframework.web.servlet.ViewResolver and org.springframework.web.servlet.View interfaces one will maps the view name to view and other prepares the request and handovers the request to render the View.<br><br> 
Spring has a rich set of pre-defined ViewResolvers provided out of box, which you can use straight forward.</p>
<table>
  <tr>
    <th>ViewResolve</th>
    <th>Description</th>
    
  </tr>
  <tr>
    <td>XmlViewResolver</td>
    <td>An implementation of ViewResolver interface which accepts the XML file as View Configurations to resolve the views.</td>
  </tr>
  <tr>
    <td>ResourceBundleViewResolver</td>
	<td>Instead of using XML file for View configurations, you will use the properties file, the key is the logical view name and the value is the resource you want to render </td>
  </tr>
   <tr>
    <td>UrlBasedViewResolver</td>
    <td>A simple implementation of the ViewResolver interface which maps directly the symbolic view names to the URL's without explicit mapping definition</td>
    
  </tr>
  <tr>
    <td>InternalResourceViewResolver</td>
    <td>This is a sub class of UrlBasedViewResolver which supports direct rendering of InternalResourceViews like Servlets and JSP's. and other view Sub classes like JSTLView and TilesView </td>
  </tr>
 </table>
<p>An example of the ViewResolver configurations for each one is discussed in the following section.</p>
<p  style="font-weight:bold;color:#212121">UrlBasedViewResolver</p>
<p>This ViewResolver will maps the view name to a URL and handover’s it to the DispatcherServlet to render the view. </p>
<pre ><code class="language-java">&ltbean id="viewResolver" class="org.springframework.web.servlet.view.UrlBasedViewResolver">  
&ltproperty name="prefix" value="/WEB-INF/jsp/"/>  
&ltproperty name="suffix" value=".jsp"/> 
&lt/bean>  </code></pre>
<p  style="font-weight:bold;color:#212121">ResourceBundleViewResolver</p>
<p>When working with different view technologies in a web application, you can use ResourceBundleViewResolver.</p>
<pre ><code class="language-java">&ltbean id="viewResolver” class=”org.springframework.web.servlet.view.ResourceBundleViewResolver">  
&ltproperty name="baseName" value="views"/> 
&lt/bean>  </code></pre>
<p>With the above declaration it means all the view definitions have been declared in the file views.properties under your classpath (src directory). The ResourceBundleViewResolver inspects the ResourceBundle and identifies the baseName for each view it is supposed to resolve.<br><br> 
The mapping information in the properties file would be like [viewname].class and [viewname].url, where [viewname].class represents the class that acts as view class to render the view and the [viewname].url represents the path to the view located in the application. Sample views.properties has been given below. </p>
<p  style="font-weight:bold;color:#212121">views.properties</p>
<pre ><code class="language-java">insertStudent.class=org.springframework.web.servlet.view.JstlView insertStudent.url=/WEB-INF/jsp/insertStudent.jsp </code></pre>
<p  style="font-weight:bold;color:#212121">XmlViewResolver</p>
<p>Instead of providing the mappings in a properties file here we declare an xml file which contains bean definitions of the views that has to be render. The following configuration shows the same</p>
<pre ><code class="language-java">&ltbean id="viewResolver" class="org.springframework.web.servlet.view.XmlViewResolver">  
&ltproperty name="location" value="/WEB-INF/views.xml"/> 
&lt/bean> </code></pre>
<p>In the above configuration, we indicated the view declarations are declared in views.xml</p>
<p  style="font-weight:bold;color:#212121">views.xml</p>
<pre ><code class="language-java">&ltbean id="home" class="org.springframework.web.servlet.view.JstlView">  
&ltproperty name="url" value="/WEB-INF/jsp/home.jsp"/> 
&lt/bean> </code></pre>












































	
		
</div>
</div>
<script>var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-([\w-]+)\b/i,t=0,n=_self.Prism={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof r?new r(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e,t){var r=n.util.type(e);switch(t=t||{},r){case"Object":if(t[n.util.objId(e)])return t[n.util.objId(e)];var a={};t[n.util.objId(e)]=a;for(var l in e)e.hasOwnProperty(l)&&(a[l]=n.util.clone(e[l],t));return a;case"Array":if(t[n.util.objId(e)])return t[n.util.objId(e)];var a=[];return t[n.util.objId(e)]=a,e.forEach(function(e,r){a[r]=n.util.clone(e,t)}),a}return e}},languages:{extend:function(e,t){var r=n.util.clone(n.languages[e]);for(var a in t)r[a]=t[a];return r},insertBefore:function(e,t,r,a){a=a||n.languages;var l=a[e];if(2==arguments.length){r=arguments[1];for(var i in r)r.hasOwnProperty(i)&&(l[i]=r[i]);return l}var o={};for(var s in l)if(l.hasOwnProperty(s)){if(s==t)for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);o[s]=l[s]}return n.languages.DFS(n.languages,function(t,n){n===a[e]&&t!=e&&(this[t]=o)}),a[e]=o},DFS:function(e,t,r,a){a=a||{};for(var l in e)e.hasOwnProperty(l)&&(t.call(e,l,e[l],r||l),"Object"!==n.util.type(e[l])||a[n.util.objId(e[l])]?"Array"!==n.util.type(e[l])||a[n.util.objId(e[l])]||(a[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,l,a)):(a[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,null,a)))}},plugins:{},highlightAll:function(e,t){n.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,r){var a={callback:r,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var l,i=a.elements||e.querySelectorAll(a.selector),o=0;l=i[o++];)n.highlightElement(l,t===!0,a.callback)},highlightElement:function(t,r,a){for(var l,i,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(l=(o.className.match(e)||[,""])[1].toLowerCase(),i=n.languages[l]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+l,t.parentNode&&(o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+l));var s=t.textContent,u={element:t,language:l,grammar:i,code:s};if(n.hooks.run("before-sanity-check",u),!u.code||!u.grammar)return u.code&&(n.hooks.run("before-highlight",u),u.element.textContent=u.code,n.hooks.run("after-highlight",u)),n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),r&&_self.Worker){var g=new Worker(n.filename);g.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,a&&a.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},g.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,a&&a.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,a){var l={code:e,grammar:t,language:a};return n.hooks.run("before-tokenize",l),l.tokens=n.tokenize(l.code,l.grammar),n.hooks.run("after-tokenize",l),r.stringify(n.util.encode(l.tokens),l.language)},matchGrammar:function(e,t,r,a,l,i,o){var s=n.Token;for(var u in r)if(r.hasOwnProperty(u)&&r[u]){if(u==o)return;var g=r[u];g="Array"===n.util.type(g)?g:[g];for(var c=0;c<g.length;++c){var h=g[c],f=h.inside,d=!!h.lookbehind,m=!!h.greedy,p=0,y=h.alias;if(m&&!h.pattern.global){var v=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,v+"g")}h=h.pattern||h;for(var b=a,k=l;b<t.length;k+=t[b].length,++b){var w=t[b];if(t.length>e.length)return;if(!(w instanceof s)){if(m&&b!=t.length-1){h.lastIndex=k;var _=h.exec(e);if(!_)break;for(var j=_.index+(d?_[1].length:0),P=_.index+_[0].length,A=b,x=k,O=t.length;O>A&&(P>x||!t[A].type&&!t[A-1].greedy);++A)x+=t[A].length,j>=x&&(++b,k=x);if(t[b]instanceof s)continue;I=A-b,w=e.slice(k,x),_.index-=k}else{h.lastIndex=0;var _=h.exec(w),I=1}if(_){d&&(p=_[1]?_[1].length:0);var j=_.index+p,_=_[0].slice(p),P=j+_.length,N=w.slice(0,j),S=w.slice(P),C=[b,I];N&&(++b,k+=N.length,C.push(N));var E=new s(u,f?n.tokenize(_,f):_,y,_,m);if(C.push(E),S&&C.push(S),Array.prototype.splice.apply(t,C),1!=I&&n.matchGrammar(e,t,r,b,k,!0,u),i)break}else if(i)break}}}}},tokenize:function(e,t){var r=[e],a=t.rest;if(a){for(var l in a)t[l]=a[l];delete t.rest}return n.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){var r=n.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=n.hooks.all[e];if(r&&r.length)for(var a,l=0;a=r[l++];)a(t)}}},r=n.Token=function(e,t,n,r,a){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!a};if(r.stringify=function(e,t,a){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return r.stringify(n,t,e)}).join("");var l={type:e.type,content:r.stringify(e.content,t,a),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:a};if(e.alias){var i="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(l.classes,i)}n.hooks.run("wrap",l);var o=Object.keys(l.attributes).map(function(e){return e+'="'+(l.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+l.tag+' class="'+l.classes.join(" ")+'"'+(o?" "+o:"")+">"+l.content+"</"+l.tag+">"},!_self.document)return _self.addEventListener?(n.disableWorkerMessageHandler||_self.addEventListener("message",function(e){var t=JSON.parse(e.data),r=t.language,a=t.code,l=t.immediateClose;_self.postMessage(n.highlight(a,n.languages[r],r)),l&&_self.close()},!1),_self.Prism):_self.Prism;var a=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return a&&(n.filename=a.src,n.manual||a.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(n.highlightAll):window.setTimeout(n.highlightAll,16):document.addEventListener("DOMContentLoaded",n.highlightAll))),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(?:true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};
Prism.languages.java=Prism.languages.extend("clike",{keyword:/\b(?:abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp-]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?[df]?/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),Prism.languages.insertBefore("java","function",{annotation:{alias:"punctuation",pattern:/(^|[^.])@\w+/,lookbehind:!0}}),Prism.languages.insertBefore("java","class-name",{generics:{pattern:/<\s*\w+(?:\.\w+)?(?:\s*,\s*\w+(?:\.\w+)?)*>/i,alias:"function",inside:{keyword:Prism.languages.java.keyword,punctuation:/[<>(),.:]/}}});
!function(){if("undefined"!=typeof self&&self.Prism&&self.document){var e="line-numbers",t=/\n(?!$)/g,n=function(e){var n=r(e),s=n["white-space"];if("pre-wrap"===s||"pre-line"===s){var l=e.querySelector("code"),i=e.querySelector(".line-numbers-rows"),a=e.querySelector(".line-numbers-sizer"),o=l.textContent.split(t);a||(a=document.createElement("span"),a.className="line-numbers-sizer",l.appendChild(a)),a.style.display="block",o.forEach(function(e,t){a.textContent=e||"\n";var n=a.getBoundingClientRect().height;i.children[t].style.height=n+"px"}),a.textContent="",a.style.display="none"}},r=function(e){return e?window.getComputedStyle?getComputedStyle(e):e.currentStyle||null:null};window.addEventListener("resize",function(){Array.prototype.forEach.call(document.querySelectorAll("pre."+e),n)}),Prism.hooks.add("complete",function(e){if(e.code){var r=e.element.parentNode,s=/\s*\bline-numbers\b\s*/;if(r&&/pre/i.test(r.nodeName)&&(s.test(r.className)||s.test(e.element.className))&&!e.element.querySelector(".line-numbers-rows")){s.test(e.element.className)&&(e.element.className=e.element.className.replace(s," ")),s.test(r.className)||(r.className+=" line-numbers");var l,i=e.code.match(t),a=i?i.length+1:1,o=new Array(a+1);o=o.join("<span></span>"),l=document.createElement("span"),l.setAttribute("aria-hidden","true"),l.className="line-numbers-rows",l.innerHTML=o,r.hasAttribute("data-start")&&(r.style.counterReset="linenumber "+(parseInt(r.getAttribute("data-start"),10)-1)),e.element.appendChild(l),n(r),Prism.hooks.run("line-numbers",e)}}}),Prism.hooks.add("line-numbers",function(e){e.plugins=e.plugins||{},e.plugins.lineNumbers=!0}),Prism.plugins.lineNumbers={getLine:function(t,n){if("PRE"===t.tagName&&t.classList.contains(e)){var r=t.querySelector(".line-numbers-rows"),s=parseInt(t.getAttribute("data-start"),10)||1,l=s+(r.children.length-1);s>n&&(n=s),n>l&&(n=l);var i=n-s;return r.children[i]}}}}}();
!function(){"undefined"!=typeof self&&!self.Prism||"undefined"!=typeof global&&!global.Prism||Prism.hooks.add("wrap",function(e){"keyword"===e.type&&e.classes.push("keyword-"+e.content)})}();
</script>
</body>
</html> 
